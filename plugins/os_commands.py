import logging as logger
import os
import shutil


def add_cmd(pm, cmd):
    os_handler = cmd.add(["os"])
    os_handler.add(["update"], os_update)


def os_update(args):
    if shutil.which("apt"):
        os.system("apt update -y && apt full-upgrade -y && apt autoremove -y")
    elif shutil.which("apt-get"):
        os.system("apt-get update -y && apt-get full-upgrade -y && apt-get autoremove -y")
    elif shutil.which("apk"):
        os.system("apk update && apk upgrade")
    else:
        logger.error("Unsupported package manager...")
